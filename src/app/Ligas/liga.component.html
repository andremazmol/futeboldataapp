<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" style="color:white;">Ligas</a>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addLigaModal">Adicionar Liga
      <span class="navbar-toggler-icon"></span>
      </button>
    <!--<input class="form-control" type="text" name="nome" [(ngModel)] ="nome" (ngModelChange)="SearchTime()" placeholder="Procurar time">-->
  </nav>

<div class="container" id="mainContainer">
    <ng-container *ngFor="let liga of ligas | orderBy: keyLiga: reverseSort">
        <ul class="list-group">
            <li class="list-group-item"><img src={{liga.paisImageUrl}} width="45" height="30">{{liga.nomeLiga}} 
              <button (click)="onOpenModal(liga, 'edit')" type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateTimeModal"> Editar</button>
              <button (click)="onOpenModal(liga, 'delete')" type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateTimeModal"> Deletar</button>
            </li>
            <button type="button" routerLink="/times/all/{{liga.ligaCode}}" class="btn btn-primary">Ir
            </button>
        </ul>
    </ng-container>
</div>

<div class="modal fade" id="addLigaModal" tabindex="-1" role="dialog" aria-labelledby="addLigaModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
       <div class="modal-header">
          <h5 class="modal-title" id="addLigaModalLabel">Nova Liga</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
       </div>
       <div class="modal-body">
          <!--Componentes do Form-->
          <form #addFormLiga="ngForm" (ngSubmit)="onAddLiga(addFormLiga)">
            <div class="form-group">
              <label for="nomeLiga">Nome</label>
              <input type="text" ngModel name="nomeLiga" class="form-control" id="nomeLigaForm" placeholder="nome" required>
           </div>
           <div class="form-group">
              <label for="ligaCode">Codigo da Liga</label>
              <input type="text" ngModel name="ligaCode" class="form-control" id="ligaCodeForm" placeholder="Codigo" required>
           </div>
           <div class="form-group">
              <label for="paisLiga">Pais</label>
              <input type="text" ngModel name="paisLiga" class="form-control" id="paisLigaForm" placeholder="Pais" required>
           </div>
           <div class="form-group">
              <label for="paisImageUrl">Bandeira</label>
              <input type="text" ngModel name="paisImageUrl" class="form-control" id="paisImageUrlForm" placeholder="Bandeira" required>
           </div>
          <div class="modal-footer">
             <button type="button" id="add-Form" class="btn btn-secondary" data-dismiss="modal">Close</button>
             <button  (click)="onAddLiga(addFormLiga)"  type="submit" class="btn btn-primary" data-dismiss="modal" >Save changes</button>
          </div>
          </form>
       </div>
    </div>
  </div>
 </div>

 <div class="modal fade" id="updateLigaModal" tabindex="-1" role="dialog" aria-labelledby="ligaEditModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="updateLigaModalLabel">Editar liga {{editLiga?.nomeLiga}}</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <!--Componentes do Form-->
           <form #editFormLiga="ngForm">
              <div class="form-group">
                 <label for="nomeLiga">Nome</label>
                 <input type="text" ngModel="{{editLiga?.nomeLiga}}" name="nomeLiga" class="form-control" id="nomeLigaEdit" aria-describedby="emailHelp" placeholder="Nome">
              </div>
              <input type="hidden" ngModel="{{editLiga?.id}}" name="id" class="form-control" id="idEdit" placeholder="id">
              <div class="form-group">
                 <label for="ligaCode">Codigo da Liga</label>
                 <input type="text" ngModel="{{editLiga?.ligaCode}}" name="ligaCode" class="form-control" id="ligaCodeEdit" placeholder="Codigo">
              </div>
              <div class="form-group">
                 <label for="paisLiga">Pais</label>
                 <input  type="text" ngModel="{{editLiga?.paisLiga}}" name="paisLiga" class="form-control" id="paisLigaEdit" placeholder="Pais">
              </div>
              <div class="form-group">
                 <label for="paisImageUrl">Bandeira</label>
                 <input type="text" ngModel="{{editLiga?.paisImageUrl}}" name="paisImageUrl" class="form-control" id="paisImageUrlEdit"  placeholder="Bandeira">
              </div>
            
              
              <div class="modal-footer">
                 <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
                 <button (click)="updateLiga(editFormLiga.value)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
              </div> 
           </form> 
        </div> 
     </div>
  </div>
</div>


<div class="modal fade" id="deleteLigaModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="deleteModelLabel">Deletar time</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <!--Confirmação e botões-->
        <div class="modal-body">
           <p>Tem certeza que quer deletar essa liga {{deleteLiga?.nomeLiga}}?</p>
           <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Não</button>
              <button (click)="onDeleteLiga(deleteLiga.id)" class="btn btn-danger" data-dismiss="modal">Sim</button>
           </div> 
        </div>
     </div>
  </div>
</div> 